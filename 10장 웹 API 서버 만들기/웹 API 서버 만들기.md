# API 서버 이해하기

API는 Application Programming Interface의 약어로, 다른 애플리케이션에서 현재 프로그램의 기능을 사용할 수 있게 허용하는 접점을 의미합니다.  
웹 API는 다른 웹 서비스의 기능을 사용하거나 자원을 가져올 수 있는 창구입니다.

1. 크롤링

   - 크롤링은 웹 사이트가 자체적으로 제공하는 API가 없거나, API 이용에 제한이 있을 때 사용하는 방법
   - 서비스 제공자 입장에서도 주기적으로 크롤링을 당하면 웹 서버의 트래픽이 증가하여 서버에 무리가 가므로 웹 서비스를 만들 때 공개해도 되는 정보들은 API로 만들어 API를 통해서 가져가게 하는 것이 좋습니다.

2. 도메인 등록 이유
   - 도메인을 등록하는 이유는 등록한 도메인에서만 API를 사용할 수 있게 하기 위해서입니다. 웹 브라우저에서 요청을 보낼 때, 응답을 하는 곳과 도메인이 다르면 CORS(Cross-Origin Resource Sharing) 에러가 발생할 수가 있습니다.  
     다른 도메인에서 함부로 현재 서버에 접근하는 것을 막는 조치입니다. CORS 문제를 허용하려면 미리 허용할 도메인을 등록해야 합니다.  
     서버에서 서버로 요청을 보내는 경우에는 CORS 문제가 발생하지 않습니다.

# JWT 토큰으로 인증하기

1. JWT는 JSON Web Token의 약어로 JSON 형식의 데이터를 저장하는 토큰입니다.
2. JWT는 세 부분으로 구성되어 있습니다.
   - 헤더(HEADER): 토큰 종류와 해시 알고리즘 정보가 들어 있습니다.
   - 페이로드(PAYLOAD): 토큰의 내용물이 인코딩된 부분입니다.
   - 시그니처(SIGNATURE): 일련의 문자열로, 시그니처를 통해 토큰이 변조되었는지 여부를 확인할 수 있습니다.  
     시그니처는 JWT 비밀키로 만들어집니다. 이 비밀키가 노출되면 JWT 토큰을 위조할 수 있으므로 비밀키를 철저히 숨겨야 합니다.
3. JWT 토큰은 JWT 비밀키를 알지 않는 이상 변조가 불가능합니다. 변조한 토큰은 시그니처를 검사할때 들통납니다.  
   변조할 수 없으므로 내용물이 바뀌지 않았는지 걱정할 필요가 없습니다. 다시 말하면 내용물을 믿고 사용할 수 있습니다.  
   즉, 사용자 이름, 권한 같은 것을 넣어두고 안심하고 사용해도 된다는 것입니다. 단, 외부에 노출되어도 좋은 정보에 한해서입니다.
4. JWT 토큰의 단점은 용량이 크다는 것입니다. 내용물이 들어 있기 때문에 랜덤한 토큰을 사용할 때에 비해 용량이 클 수밖에 없습니다.  
   매 요청 시 토큰이 오고 가기 때문에 데이터 양이 증가합니다.
