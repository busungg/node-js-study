# REPL 사용하기

자바스크립트는 스크립트 언어이므로 미리 컴파일을 하지 않아도 즉석에서 코드를 실행할 수 있습니다. 이전 장에서 브라우저 콘솔 탭에서 자바스크립트 코드를 입력보았을 것입니다.  
노드도 비슷한 콘솔을 제공하는데, 입력한 코드를 읽고(Read), 해석하고(Eval), 결과물을 반환하고(Print), 종료할 때까지 반복(Loop)한다고 해서 REPL(Read Eval Print Loop)이라고 부릅니다.
노드의 REPL을 직접 사용해보겠습니다. 윈도에서는 명령 프롬프트, 맥이나 리눅스에서는 터미널을 열고 node를 입력합니다. VS Code에서는 Ctrl + `를 누르면 터미널을 켤 수 있습니다. 앞으로는 명령 프롬프트나 터미널을 콘솔이라고 통칭하겠습니다.  
REPL을 종료하려면 Ctrl + C를 두 번 누르거나, REPL 창에 .exit를 입력하면 됩니다.

# JS 파일 실행하기

REPL에 직접 코드를 입력하는 대신 자바스크립트 파일을 만들어 실행해보겠습니다. 다음과 같은 자바스크립트 파일을 만들어봅시다. 파일은 아무 폴더(디렉터리) 안에 만들어도 됩니다. 하지만 예제 코드가 많으니 따로 폴더를 만들어 파일들을 모아두는 것이 편리할 것입니다.
콘솔에서 node [자바스크립트 파일 경로]로 실행합니다. 확장자(.js)는 생략해도 됩니다. REPL에서 입력하는 것이 아니므로 주의하세요. REPL이 아니라 콘솔에서 입력해야 합니다. 콘솔에서 REPL로 들어가는 명령어가 node고, 노드를 통해 파일을 실행하는 명령어는 node [자바스크립트 파일 경로]입니다.

```
    node helloWorld
```

# 모듈로 만들기

노드는 코드를 모듈로 만들 수 있다는 점에서 브라우저의 자바스크립트와는 다릅니다. 모듈이란 특정한 기능을 하는 함수나 변수들의 집합입니다. 자체로도 하나의 프로그램이면서 다른 프로그램의 부품으로도 사용할 수 있습니다.
모듈로 만들어두면 여러 프로그램에 해당 모듈을 재사용할 수 있습니다. 자바스크립트에서 코드를 재사용하기 위해 함수로 만드는 것과 비슷합니다.  
**_require 함수 안에 불러올 모듈의 경로를 적어줍니다. 앞의 예제에서는 같은 폴더 안에 파일을 만들었지만, 다른 폴더에 있는 파일도 모듈로 사용할 수 있습니다. require 함수의 인자로 제공하는 경로만 잘 지정해주면 됩니다. 파일 경로에서 js나 json 같은 확장자는 생략할 수 있습니다._**

# 노드 내장 객체 알아보기

### 1. global

브라우저의 window와 같은 전역 개체입니다. 전역 객체이므로 모든 파일에서 접근할 수 있습니다. 또한, window.open 메서드를 그냥 open으로 호출할 수 있는 것처럼 global도 생략할 수 있습니다.
이전 절에서 사용했던 require 함수에서도 global.require에서 global이 생략된 것입니다.
노드 콘솔에 로그를 기록하는 console 객체도 원래는 global.console입니다.  
global 객체 내부에는 매우 많은 속성이 들어 있습니다. 이 절에서 배울 내용들이 global 객체 안에 있습니다.  
전역 객체라는 점을 이요하여 간단한 데이터를 파일끼리 공유할 때 사용하기도 합니다. globalA.js와 globalB.js를 같은 폴더에 생성해봅시다.  
globalA 모듈의 함수는 global.message 값을 반환합니다. globalB.js에서는 global 객체에 속성명이 message인 값을 대입하고 globalA 모듈의 함수를 호출합니다. 콘솔 결과를 보면 globalB에서 넣은 global.message 값을 globalA에서도 접근할 수 있음을 알 수 있습니다.

### 2. console

console 객체는 보통 디버깅을 위해 사용됩니다. 개발 중 변수에 값이 제대로 들어 있나 확인하기 위해 사용하기도 하고, 에러 발생 시 에러 내용을 콘솔에 표시하기 위해서도 사용하며, 코드 실행 시간을 알아보려고 할 때도 사용합니다.

1. console.time(레이블)
   - console.timeEnd(레이블) 과 대응되어 같은 레이블을 가진 time과 timeEnd 사이의 시간을 측정합니다.
   - ```
        console.time('시간 측정');
        for(let i = 0; i < 100000; i++) {
            continue;
        }
        console.timeEnd('시간 측정');
     ```
2. console.log(내용)
   - 평범한 로그를 콘솔에 표시합니다. console.log(내용, 내용, ...)처럼 여러 내용을 동시에 표시할 수도 있습니다.
3. console.error(에러 내용)
   - 에러를 콘솔에 표시합니다.
4. console.dir(객체, 옵션)
   - 객체를 콘솔에 표시할 때 사용합니다. 첫 번째 인자로 표시할 객체를 넣고, 두 번째 인자로 옵션을 넣습니다. 옵션의 colors를 true로 하면 콘솔에 색이 추가되어 보기가 한결 편해집니다. depth는 객체 안의 객체를 몇 단계까지 보여줄지를 결정합니다. 기본값은 2 입니다.
   - ```
        console.dir(obj, { colors: false, depth: 2});
        console.dir(obj, { colors: true, depth: 1});
     ```
5. console.trace(레이블)
   - 에러가 어디서 발생했는지 추적할 수 있게 해줍니다. 보통은 에러 발생 시 에러 위치를 알려주므로 자주 사용하지는 않지만, 위치가 나오지 않는다면 사용할만 합니다.
